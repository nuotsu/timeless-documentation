@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	::selection {
		@apply bg-accent text-white;
	}

	html {
		scroll-behavior: smooth;
		@apply bg-canvas text-ink;
	}

	summary {
		cursor: pointer;
	}

	:not(pre) > code {
		display: inline-block;
		padding-inline: .25em .5em;
		font-size: smaller;
		text-decoration: inherit;
		@apply bg-canvas rounded;
	}

	pre {
		font-size: smaller;
		overflow-x: auto;
		@apply p-4 bg-canvas rounded;
	}
}

@layer components {
	/* typography */

	._h {
		text-wrap: balance;
	}
	.h1 { @apply _h text-3xl font-bold; }
	.h2 { @apply _h text-2xl font-bold; }
	.h3 { @apply _h text-xl font-bold; }
	.h4 { @apply _h text-lg font-bold; }
	.h5,
	.h6 { @apply _h font-bold; }

	/* ctas */

	.link {
		@apply text-accent underline decoration-dotted hover:decoration-solid;
	}
}

@layer utilities {
	.full-width {
		width: 100vw;
		margin-inline: calc(50% - 50vw);
	}

	.carousel {
		display: flex;
		overflow-x: auto;
		scroll-snap-type: x mandatory;
	}
	.carousel > * {
		scroll-snap-align: center;
		flex: 0 0 min(var(--size, 280px), 80vw);
	}

	/* richtext */

	.rte > * + * {
		margin-top: 1em;
	}

	.rte h1 { @apply h1; }
	.rte h2 { @apply h2; }
	.rte h3 { @apply h3; }
	.rte h4 { @apply h4; }
	.rte h5 { @apply h5; }
	.rte h6 { @apply h6; }

	.rte :is(ul, ol) {
		list-style: initial;
		margin-left: 1.5em;
	}

	.rte :is(ul, ol) li {
		margin-top: .25em;
	}
}
